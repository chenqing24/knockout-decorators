import{utils as n,subscribable as t,observable as r,observableArray as e,computed as u,components as i}from"knockout";var o=function(n,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)};var c="__ko_decorators_",a=c+"patched__",f=c+"extenders__",s=c+"subscriptions__";"undefined"!=typeof Symbol&&(a=Symbol(a),f=Symbol(f),s=Symbol(s));var v=Array.prototype;function l(n,t,r){r.configurable=!0,Object.defineProperty(n,t,r)}var b=n.extend,h=n.objectForEach,p=Array.isArray.bind(Array),d=Object.getPrototypeOf.bind(Object),y=Object.getOwnPropertyDescriptor.bind(Object),m=Function.prototype.call.bind(Object.prototype.hasOwnProperty),_=Function.prototype.call.bind(v.slice);function g(n,t,r){var e=n[f],u=e&&e[t];return u&&u.forEach(function(t){var e=t instanceof Function?t.call(n):t;r=r.extend(e)}),r}function j(n,t,e,u,i){var o=g(n,t,r()),c=o;u&&(c=function(n){o(w(n,i))}),l(n,t,{enumerable:!0,get:o,set:c}),i&&l(n,"_"+String(t),{value:o}),c(e)}function w(n,t){if("object"==typeof n){if(p(n)||null===n)return n;if(m(n,"constructor")){var r=d(n);if(r===Object.prototype||null===r)return O(n,t)}else if(n.constructor===Object)return O(n,t)}return n}function O(n,t){return m(n,a)||(l(n,a,{value:!0}),h(n,function(r,e){p(e)?z(n,r,e,!0,t):j(n,r,e,!0,t)})),n}var A,S,k,x,C=["pop","reverse","shift","sort"],E=C.concat(["push","splice","unshift"]),F=["remove","removeAll","destroy","destroyAll","replace","subscribe"],M=F.concat(["replace"]),q=E.concat(M,["mutate","set"]);function z(n,t,r,u,i){var o=g(n,t,e()),c=!1;function f(n){var t,r=o.peek();if(r!==n&&(p(r)&&m(r,a)&&(delete r[a],q.forEach(function(n){delete r[n]})),p(n))){if(m(n,a)&&(n=n.slice()),u)for(var e=0;e<n.length;++e)n[e]=w(n[e],i);l(n,a,{value:!0}),t=n,(u?C:E).forEach(function(n){return l(t,n,{value:function(){if(c)return v[n].apply(t,arguments);c=!0;var r=o[n].apply(o,arguments);return c=!1,r}})}),(u?F:M).forEach(function(n){return l(t,n,{value:function(){c=!0;var t=o[n].apply(o,arguments);return c=!1,t}})}),u?(l(t,"push",{value:function(){if(c)return v.push.apply(t,arguments);for(var n=_(arguments),r=0;r<n.length;++r)n[r]=w(n[r],i);c=!0;var e=o.push.apply(o,n);return c=!1,e}}),l(t,"unshift",{value:function(){if(c)return v.unshift.apply(t,arguments);for(var n=_(arguments),r=0;r<n.length;++r)n[r]=w(n[r],i);c=!0;var e=o.unshift.apply(o,n);return c=!1,e}}),l(t,"splice",{value:function(){if(c)return v.splice.apply(t,arguments);var n;switch(c=!0,arguments.length){case 0:case 1:case 2:n=o.splice.apply(o,arguments);break;case 3:n=o.splice(arguments[0],arguments[1],w(arguments[2],i));break;default:for(var r=_(arguments),e=2;e<r.length;++e)r[e]=w(r[e],i);n=o.splice.apply(o,arguments)}return c=!1,n}}),l(t,"replace",{value:function(n,t){c=!0;var r=o.replace(n,w(t,i));return c=!1,r}}),l(t,"mutate",{value:function(n){var t=o.peek();o.valueWillMutate(),n(t);for(var r=0;r<t.length;++r)t[r]=w(t[r],i);o.valueHasMutated()}}),l(t,"set",{value:function(n,t){return o.splice(n,1,w(t,i))[0]}})):(l(t,"mutate",{value:function(n){o.valueWillMutate(),n(o.peek()),o.valueHasMutated()}}),l(t,"set",{value:function(n,t){return o.splice(n,1,t)[0]}}))}c=!0,o(n),c=!1}l(n,t,{enumerable:!0,get:o,set:f}),i&&l(n,"_"+String(t),{value:o}),f(r)}function V(n,t){return A=!1,S=!1,k=!1,1===arguments.length?(S=n.deep,k=n.expose,D):D(n,t)}function B(n,t){return A=!0,S=!1,k=!1,1===arguments.length?(S=n.deep,k=n.expose,D):D(n,t)}function D(n,t){var r=A,e=S,u=k;l(n,t,{get:function(){throw new Error("@observable property '"+String(t)+"' was not initialized")},set:function(n){r||p(n)?z(this,t,n,e,u):j(this,t,n,e,u)}})}function G(n,t,r){return x={pure:!0},1===arguments.length?(x=n,H):H(n,t,r)}function H(n,t,r){var e=x,i=r||(r=y(n,t)),o=i.get,c=i.set;if(!o)throw new Error("@computed property '"+String(t)+"' has no getter");return r.get=function(){var n=g(this,t,u(o,this,e));return l(this,t,{get:n,set:c}),n()},r}function I(n){return function(t,r){!function(n,t,r){var e=n[f];m(n,f)||(n[f]=e=b({},e),h(e,function(n,t){e[n]=t.slice()})),(e[t]||(e[t]=[])).push(r)}(t,r,n)}}function J(n,t,r,e){return void 0===e&&(void 0===r?"object"!=typeof t||t.constructor!==Object||"require"in t||"element"in t||(e=t,t=void 0):"object"==typeof r&&(e=r,r=void 0)),function(r){i.register(n,b({viewModel:r.length<2?r:{createViewModel:function(n,t){var e=t.element,u=t.templateNodes;return new r(n,e,u)}},template:t||"\x3c!----\x3e",synchronous:!0},e))}}function K(n,t,r){var e=r||(r=y(n,t)),u=e.value;return{configurable:e.configurable,enumerable:e.enumerable,get:function(){if(this===n)return u;var r=u.bind(this);return l(this,t,{value:r}),r}}}function L(n,r){l(n,r,{get:function(){return function(n,r){var e=new t,u=function(){var n=_(arguments);e.notifySubscribers(n)};return u.subscribe=function(n){return e.subscribe(function(t){n.apply(null,t)})},l(n,r,{value:u}),u}(this,r)}})}function N(n,t,r){var e=r&&r.once||!1;if(m(n,"subscribe")){var i=n;if(e){var o=i.subscribe(function(){o.dispose(),t.apply(null,arguments)});return o}return i.subscribe(t)}i=r&&r.event||"change";var c,f=void 0;if(f=e?function(){c.dispose(),t.apply(null,arguments)}:t,"arrayChange"===i){var s=n();if(!p(s)||!m(s,a))throw new Error("Can not subscribe to 'arrayChange' because dependency is not an 'observableArray'");c=s.subscribe(f,null,i)}else{var v=u(n).extend({notify:"always"}),l=(c=v.subscribe(f,null,i)).dispose;c.dispose=function(){l.call(this),v.dispose()}}return c}function P(n,t){return m(n,t)||n[t],y(n,t).get}function Q(n){return void 0===n&&(n=function(){}),function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return function(n,t){function r(){this.constructor=n}o(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,n),t.prototype.dispose=function(){var n=this[s];n&&(n.forEach(function(n){n.dispose()}),delete this[s])},t.prototype.subscribe=function(){var n=N.apply(null,arguments),t=this[s]||(this[s]=[]);return t.push(n),n},t.prototype.unwrap=function(n){return P(this,n)},t}(n)}export{Q as Disposable,K as autobind,J as component,G as computed,L as event,I as extend,V as observable,B as observableArray,N as subscribe,P as unwrap};
//# sourceMappingURL=knockout-decorators.esm.min.js.map
